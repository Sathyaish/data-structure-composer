ds DequeMemoizer[reduction] if reduction.idempotent {
    insertLast! <- 1
    deleteLast! <- 1
    insertFirst! <- 1
    deleteFirst! <- 1
    reduce[reduction] <- 1
}
